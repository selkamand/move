% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transformations.R
\name{rotate_vector_around_axis_through_point}
\alias{rotate_vector_around_axis_through_point}
\title{Rotate a vector around an axis passing through an arbitrary point}
\usage{
rotate_vector_around_axis_through_point(
  v,
  rotation_axis,
  point_on_axis,
  angle,
  tol = 1e-08,
  zap = TRUE
)
}
\arguments{
\item{v}{Numeric length-3 vector representing the position to rotate.}

\item{rotation_axis}{Numeric length-3 vector giving the axis direction (will be normalized).}

\item{point_on_axis}{Numeric length-3 vector giving a point lying on the rotation axis.}

\item{angle}{Numeric scalar (radians); rotation angle (positive follows right-hand rule).}

\item{tol}{Numeric tolerance used for degeneracy checks (passed to \code{rotate_vector_around_axis}).}

\item{zap}{Logical; if \code{TRUE}, small numerical noise is removed via \code{zapsmall()}.}
}
\value{
Numeric length-3 vector giving the rotated position.
}
\description{
Rotates a 3D vector \code{v} about the line defined by \code{rotation_axis}
and a point \code{point_on_axis}. The rotation axis need not pass through the origin.
}
\details{
The algorithm translates \code{v} so the rotation axis passes through the origin,
applies \code{\link[=rotate_vector_around_axis]{rotate_vector_around_axis()}}, then translates back.
}
\examples{
v <- c(2, 0, 0)
axis <- c(0, 0, 1)
point <- c(1, 0, 0)
rotate_vector_around_axis_through_point(v, axis, point, pi / 2)
# Returns c(1, 1, 0)

}
